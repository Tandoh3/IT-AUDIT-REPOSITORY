 -- Checks the backup status of microsoft sql server databases
SELECT 
    db.name AS DatabaseName,
    MAX(b.backup_finish_date) AS LastBackup,
    b.type AS BackupType
FROM sys.databases db
LEFT JOIN msdb.dbo.backupset b ON db.name = b.database_name
WHERE db.name NOT IN ('tempdb')
GROUP BY db.name, b.type
ORDER BY db.name;